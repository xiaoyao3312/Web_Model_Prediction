/* static\css\topbar_menu.css */

/* -------------------------------------- */
/* --- 根變數 (只用於 TopBar 相關的數值) --- */
/* -------------------------------------- */
:root {
    /* 導航欄的配置 */
    --topbarMenu-z-index:                 9999;
    --topbarMenu-height:                  50px;
    --topbarMenu-width:                   100%;
    
    /* 顏色配置 */
    --topbarMenu-brand-color:             rgba(0, 128, 128, 1);       /* 主調/品牌色 */
    --topbarMenu-bg-color:                rgba(0, 0, 0, 1);           /* 頂部導航欄背景色 */
    --topbarMenu-font-color:              rgba(255, 255, 255, 1);     /* 頂部導航欄預設文字/Icon 顏色 */

    /* 陰影/效果 */
    --topbarMenu-box-shadow:              0px 0px 5px 2px rgba(0, 0, 0, 0.5);
    --topbarMenu-box-shadow-hover:        0px 0px 10px 5px rgba(0, 0, 0, 0.5);

    /* 動態變數：用於 JS 調整 main-content 的 padding-top */
    --topbarMenu-dynamic-height:        var(--topbarMenu-height);

    --topbarMenu-30px:                 30px;
    --topbarMenu-20px:                 20px;
    --topbarMenu-15px:                 15px;
    --topbarMenu-10px:                 10px;
    --topbarMenu-5px:                  5px;
    --topbarMenu-1px:                  1px;
    --topbarMenu-0:                  0;
}

/* -------------------------------------- */
/* --- 1. 頂部導航欄 (主容器: #topbarMenu) --- */
/* -------------------------------------- */
#topbarMenu {
    z-index:           var(--topbarMenu-z-index);
    /* 尺寸與定位 */
    height:            var(--topbarMenu-height);
    width:             var(--topbarMenu-width);
    position:          fixed;

    
    
    /* 顏色與效果 */
    background-color:  var(--topbarMenu-bg-color);
    box-shadow:        var(--topbarMenu-box-shadow);
    
    /* 佈局 */
    box-sizing:        border-box;
    display:           flex;
    align-items:       center;
    white-space:       nowrap; /* 確保內容不換行 */
    flex-wrap:         nowrap; 
}

/* 1.1 導航欄切換按鈕 */
#topbarMenu .topbar-toggle-button {
    /* 樣式 */
    background:        transparent; 
    border:            none;
    cursor:            pointer;
    /* 佈局與動畫 */
    order:             unset;
    
    margin-right: var(--topbarMenu-5px);
    flex-shrink:       var(--topbarMenu-0);
    transition:        transform 0.25s;
}

#topbarMenu .topbar-toggle-icon {
    background:        transparent; 
    width: var(--topbarMenu-30px);
    height: var(--topbarMenu-30px);
    color: var(--topbarMenu-brand-color);
}


/* 1.2 品牌/標題區 */
#topbarMenu .topbar-brand {
    /* 佈局與字體 */
    display:           flex;
    align-items:       center;
    font-size:         var(--topbarMenu-30px);
    font-weight:       bold;
    
    /* 間距與動畫 */
    order:         unset;
    margin-right:      10px;
    white-space:       nowrap;
    flex-shrink:       0;
    transition:        margin 0.25s;
}

#topbarMenu .topbar-brand-icon {
    color: var(--topbarMenu-brand-color);
    width: 2rem;
    height: 2rem;

    /* 3. 佈局調整 */
    margin-right: 10px;
}


#topbarMenu .topbar-brand-text{
    color: var(--topbarMenu-brand-color);
}

/* 1.3 導航連結區 */
#topbarMenu .topbar-nav-links {
    

    /* 佈局 */
    display:           flex;
    align-items:       center;
    flex-grow:         1; 
    
    /* 間距與尺寸 */
    gap:               5px;
    min-width:         0;
    padding-bottom:    0; /* 移除 padding-bottom */
    white-space:       nowrap;

        /* 讓導航連結區塊自然佔用剩餘空間，並確保不換行 */
    width:         auto;
    order:         unset; 
    justify-content: flex-start;
    padding:       0;
    flex-wrap:     nowrap;
}

#topbarMenu .topbar-nav-item {
    text-decoration: none;
    flex-shrink:       0;
}

/* ★ 新增：當前選中頁面的樣式 (.active) ★ */
#topbarMenu .topbar-nav-item.active {
    /* 讓活動項目看起來像被點擊或選中 */
    background-color: var(--topbarMenu-brand-color); /* 使用品牌色作為背景 */
    border-radius: 6px; 
}

/* 確保活動按鈕內的文字和圖標顏色是反轉色 (白色/頂部導航欄字體色) */
#topbarMenu .topbar-nav-item.active .topbar-nav-text,
#topbarMenu .topbar-nav-item.active .topbar-nav-icon {
    color: var(--topbarMenu-font-color); /* 通常是白色 */
}

/* 覆蓋 Hover 樣式：活動狀態在 Hover 時應該保持選中色，但可以略微變深 */
#topbarMenu .topbar-nav-item.active:hover {
    /* 保持品牌色，但降低亮度 10% */
    background-color: color-mix(in srgb, var(--topbarMenu-brand-color) 90%, black);
    color: var(--topbarMenu-font-color); 
}

/* 預設的 Hover 樣式 (保持您原來的，針對非 Active 項目) */
#topbarMenu .topbar-nav-item:hover {
    /* 使用 color-mix 實現帶透明度的懸停效果 */
    background-color: color-mix(in srgb, var(--topbarMenu-brand-color) 20%, transparent);
    color: var(--topbarMenu-brand-color);
}

/* 1.5 選單按鈕 */
#topbarMenu .topbar-nav-button {
    /* 佈局 */
    display:           flex;
    align-items:       center;
    
    /* 尺寸與間距 */
    width:             auto;
    height:            auto;
    padding:           10px 10px;
    
    /* 樣式 */
    background:        transparent; /* 預設為透明 */
    border:            none;
    cursor:            pointer;
    color:             var(--topbarMenu-font-color);
    font-size:         0.9rem;
    border-radius:     6px;
    transition:        background-color 0.2s, color 0.2s;
}

#topbarMenu .topbar-nav-icon {
    color: var(--topbarMenu-brand-color);
    width: 1.5rem;
    height: 1.5rem;
    margin-right: 3px;
}

#topbarMenu .topbar-nav-text {
    color: var(--topbarMenu-brand-color);
    
}

/* -------------------------------------- */
/* --- 2. 主要內容區域 (容器) --- */
/* -------------------------------------- */
.topbar-content-gap {
    /* padding-top 使用 JS 動態更新的 CSS 變數 */
    padding-top: calc(var(--topbarMenu-dynamic-height) + 10px);
}

/* -------------------------------------- */
/* --- 3. 導航欄收合狀態 (.collapsed) 樣式 --- */
/* -------------------------------------- */

#topbarMenu.collapsed .topbar-toggle-button {
    /* 確保過渡效果存在 */
    transition: transform 0.25s;
    
    /* 實現左右相反的鏡像翻轉 */
    transform: scaleX(-1);
}

#topbarMenu.collapsed .topbar-brand-text,
#topbarMenu.collapsed .topbar-nav-text {
    /* 收合時隱藏文字 */
    display: none;
}

#topbarMenu.collapsed .topbar-topbar-brand {
    margin-right: 5px;
}

#topbarMenu.collapsed .topbar-nav-button {
    /* 收合時調整按鈕內邊距，只保留圖標空間 */
    padding: 8px 10px;
}

#topbarMenu.collapsed .topbar-nav-button i {
    /* 收合時移除圖標右側邊距 */
    margin-right: 0;
}




/* -------------------------------------- */
/* === 4. 響應式設計 (Media Queries) === */
/* -------------------------------------- */

/* 中等螢幕 (例如：平板橫向或較大的手機) - 保持不變 (自動轉為 Icon 模式) */
@media (max-width: 576px) {
    /* 當螢幕較小時，預設收合文字，只保留圖標模式，但導航欄本身不加上 .collapsed class */
    /* 這裡使用 ID 選擇器可以確保在 max-width: 576px 時，樣式仍然能覆蓋 */
    #topbarMenu:not(.collapsed) .topbar-brand-text,
    #topbarMenu:not(.collapsed) .topbar-nav-text {
        display: none;
    }
    #topbarMenu:not(.collapsed) .topbar-nav-button {
        padding: 8px 10px;
    }
    #topbarMenu:not(.collapsed) .topbar-nav-button i {
        margin-right: 0;
    }
    #topbarMenu:not(.collapsed) .topbar-toggle-button {
        transition: transform 0.25s;
    
        /* 實現左右相反的鏡像翻轉 */
        transform: scaleX(-1);
    }
}